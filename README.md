# vvedenie_v_oop

***Всем привет! Меня зовут Кристина Рожкова. Я учусь в online школе sky.pro на phyton разработчика. Данный проект является выполнением домашнего задания в 4 разделе курса.***

Контекст проекта следующий:

*Большая часть разработки использует ООП-подход для создания своих сервисов, а также работы с данными, которые представляют собой сущности или объекты со своими параметрами и методами.*
*В рамках этих домашних заданий мы проработаем использование классов и объектов на основе популярной темы e-commerce.*

*E-commerce  — электронная торговля, или электронная коммерция.*
*На данном этапе работы мы не будем реализовывать систему платежей, однако подготовим всё для того, чтобы у нас появилось ядро для интернет-магазина.*
*В дальнейшем для этого ядра возможно будет реализовать любой интерфейс — от сайта до телеграм-бота.*

*В этом домашнем задании вы начнете с описания основных сущностей и инициализации объектов.*

---
## Установка

1. Клонирование репозитория по [HTTPS](https://github.com/Kristina-Rozhkova/vvedenie_v_oop.git)
2. Все зависимости описаны в файле **pyproject.toml**, все исключения добавлены в **.gitignore** установку необходимо
начать с:
```
poetry install
```
---
## Использование

**Пакет src содержит следующие модули:**
- [utils.py](src/utils.py)
- [product.py](src/product.py)
- [category.py](src/category.py)
- [14.1_main.py](src/14.1_main.py)
- [14.2_main.py](src/14.2_main.py)
- [15.1_main.py](src/15.1_main.py)
- [16.1_main.py](src/16.1_main.py)


**Пакет data содержит следующие файлы:**
-[products.json](data/products.json) - для использования в модуле utils.py.

---

**Содержание модулей и примеры работы функций пакета src**

1. **utils.py**
   
    Этот модуль используется для работы с json-файлами.

   - `read_json` - *Чтение данных из json-файла*
        
        для чтения используется файл products.json
   
   - `create_objects_from_data` - *Создание экземпляров класса из данных json-файла*

2. **product.py**
    
    Модуль содержит классы BaseProduct, PrintMixin, Product, Smartphone, LawnGrass.

    - `BaseProduct` - *Абстрактный класс*

    - `PrintMixin` - *Миксин, выводящий информацию об инициализированных экземпляров класса*

    - `Product` - *Класс для представления информации о товаре*

        Определены свойства:
        - название (name), 
        - описание (description), 
        - цена (__price), 
        - количество в наличии (quantity).

        Методы:
        - класс-метод new_product
            создает объект класса Product
        - геттер price
        - сеттер price
        - магический метод __str__
            вывод информации в формате: Название продукта, 80 руб. Остаток: 15 шт.
        - магический метод __add__
            складывает цену за товары с учетом количества единиц на складе при условии, что товары относятся к одному классу.

    - `Smartphone` - *Класс для представления информации о смартфонах, класс-наследник от Product*

        Дополнительные свойства:
        - производительность (efficiency)
        - модель (model)
        - память (memory)
        - цвет (color)

        Переопределение магического метода __add__.

    - `LawnGrass` - *Класс для представления информации о газонной траве, , класс-наследник от Product*

        Дополнительные свойства:
        - страна (country)
        - период прорастания (germination_period)
        - цвет (color)

        Переопределение магического метода __add__.

3. **category.py**

    Модуль содержит классы BaseClass, Category, ProductIterator, Order.

    - `BaseClass` - *Абстрактный класс для Category, Order*

    - `Category` - *Класс с информацией о товарах в соответствующей категории*
   
        Определены свойства:
        - название (name), 
        - описание (description), 
        - список товаров категории (products).
        
        Атрибуты класса (заполняются автоматически при инициализации нового объекта):
        - количество категорий (category_count),
        - количество товаров (product_count),
        - количество единиц товара (quantity_count).

        Методы:
        - add_product
            добавление товаров в список товаров категории
        - геттер products
            получение информации о продуктах в формате строки, используя метод str класса Product
        - геттер products_in_list
            получение информации о продуктах в виде списка
        - магический метод __str__
            вывод информации в формате: Название категории, количество продуктов: 10 шт.

    - `ProductIterator` - *вспомогательный класс, с помощью которого можно перебирать товары одной категории, например в цикле for*

        Для этого новый класс должен принимать на вход объект класса категории и производить итерацию по товарам, которые хранятся в данной категории. 

        То есть метод выполнения следующего шага итерации должен возвращать очередной товар категории.

    - `Order` - *Класс с информацией о заказе*

        Определены свойства:
        - ссылка на продукт (product),
        - количество товара (quantity),
        - общая стоимость заказа (cost)

        Методы:
        - магический метод __str__
            вывод информации о заказе в формате: 'Товар: название товара, Описание: описание товара, Количество: 1 шт., Цена за 1 единицу: 180000.0 руб., Общая стоимость: 180000.0''
        - calculate_cost
            подсчет итоговой стоимости товара.


---


## Тестирование:

**Пакет tests содержит следующие модули:**
-[conftest.py](tests/conftest.py)
-[test_utils.py](tests/test_utils.py)
-[test_product.py](tests/test_product.py)
-[test_category.py](tests/test_category.py)

---

**Содержание модулей:**

1. **conftest.py**

    Модуль содержит фикстуры с выходными данными для последующих тестов.

    - `first_product` и `second_product` - *фикстуры, возвращающие экземпляры класса Product*
    - `category` - *фикстура, возвращающая экземпляр класса Category*
    - `return_data` - *для проверки работы функций выгрузки данных и создания объектов класса*
    - `data` - *для реализации проверки инициализации продукта*
    - `list_products` - *возвращает список продуктов для проверки метода new_product*
    - `product_iterator` - *возвращает экземпляр класса ProductIterator*
    - `smartphone1` и `smartphone2` - **экземпляры класса Smartphone**
    - `lawn_grass1` и `lawn_grass2` - *экземпляры класса LawnGrass*

2. **test_utils.py**

    Тестирование модуля utils.py

    - `test_read_json` - *Тестирование корректного вывода данных из json-файла*
    - `test_read_json_not_found_error` - *Тестирование функции в случае неправильного указанного пути*
    - `test_create_objects_from_data` - *Тестирование корректного создания объектов класса*

3. **test_product.py**

    Тестирование модуля product.py

    - `test_product_init` - *корректность инициализации объектов класса Product*
    - `test_product_new_product` - *корректность создания нового объекта класса Product*
    - `test_product_new_product_error` - *тестирование выброса ошибки в случае добавления продукта неправильного типа*
    - `test_product_price_setter_new_price` - *тестирование изменения цены товара*
    - `test_product_price_setter_min_price` - *тестирование изменения цены товара на меньшую сумму*
    - `test_product_price_setter_negative_price` - *тестирование выброса ошибки при попытке изменения цены товара на отрицательную сумму*
    - `test_product_str` - *корректность вывода информации о товаре*
    - `test_product_add` - *корректность сложения цены товаров*
    - `test_product_add_error` - *тестирование выброса ошибки при добавлении цены товара не из класса Product*
    - `test_smartphone_init` - *корректность инициализации экземпляра класса Smartphone*
    - `test_smartphone_add` - *корректность сложения цены товаров*
    - `test_smartphone_add_error` - *тестирование выброса ошибки при добавлении цены товара не из класса Smartphone*
    - `test_lawn_grass_init` - *корректность инициализации экземпляра класса LawnGrass*
    - `test_lawn_grass_add` - *корректность сложения цены товаров*
    - `test_lawn_grass_add_error` - *тестирование выброса ошибки при добавлении цены товара не из класса LawnGrass*
    - `test_print_mixin_product` - *проверка работы миксина при инициализации экземпляра класса Product*
    - `test_print_mixin_smartphone_and_lawn_grass` - *проверка работы миксина при инициализации экземпляров классов Smartphone и LawnGrass*

4. **test_category.py**

    Тестирование модуля category.py

    - `test_category_init` - *корректность инициализации объектов класса Category, а также подсчет количества продуктов и категорий*
    - `test_add_product` - *Тестирование добавления продукта в список продуктов*
    - `test_add_product_error` - *Тестирование выпадения ошибки при добавлении продукта в список продуктов не из класса Product*
    - `test_category_products` - *Тестирование вывода информации о продуктах в списке категории*
    - `test_category_str` - *вывод информации о категории*
    - `test_product_iterator` - *проверка итерации по списку продуктов*
    - `test_category_add_smartphone` - *проверка добавления продукта из класса Smartphone*
    - `test_category_add_lawn_grass` - *проверка добавления продукта из класса LawnGrass*
    - `test_order_init` - *корректность инициализации объектов класса Order*
    - `test_order_str` - *Тестирование вывода информации о заказе*

---

## Документация:

Для получения дополнительной информации обратитесь к [документации](//README.md).

## Лицензия:

Этот проект лицензирован по лицензии MIT.